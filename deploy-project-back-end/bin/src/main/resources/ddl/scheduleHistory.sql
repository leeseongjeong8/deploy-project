CREATE TABLE DEPLOY.SCHEDULE_HISTORY (
	HISTORY_NO NUMBER NOT NULL,
	SCHEDULE_NO NUMBER NOT NULL,
	SCHEDULE_TITLE VARCHAR(100) NOT NULL,
	WRITER VARCHAR(20) NOT NULL,
	START_DATE VARCHAR(16) NOT NULL,
	END_DATE VARCHAR(16) NOT NULL,
	SCHEDULE_CONTENT VARCHAR(500),
	REGDATE DATE NOT NULL,
	UPDATE_REASON VARCHAR(500),
	TYPE CHAR(1) NOT NULL
)
TABLESPACE USR
PCTFREE 10
INITRANS 2
STORAGE (
	MAXEXTENTS UNLIMITED
)
LOGGING
NOPARALLEL;
COMMENT ON TABLE DEPLOY.SCHEDULE_HISTORY IS '스케쥴 이력';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.END_DATE IS '종료시간';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.HISTORY_NO IS '스케쥴이력번호';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.REGDATE IS '입력일';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.SCHEDULE_CONTENT IS '스케쥴내용';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.SCHEDULE_NO IS '스케쥴번호';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.SCHEDULE_TITLE IS '스케쥴제목';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.START_DATE IS '시작시간';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.TYPE IS '구분';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.UPDATE_REASON IS '변경사유';
COMMENT ON COLUMN DEPLOY.SCHEDULE_HISTORY.WRITER IS '작성자';

CREATE UNIQUE INDEX DEPLOY.DEPLOY_CON4485900258 ON DEPLOY.SCHEDULE_HISTORY (
	HISTORY_NO ASC
)
LOGGING
TABLESPACE USR
PCTFREE 10
INITRANS 2;

ALTER TABLE DEPLOY.SCHEDULE_HISTORY ADD 
PRIMARY KEY (
	HISTORY_NO
);

ALTER TABLE DEPLOY.SCHEDULE_HISTORY ADD 
CHECK (TYPE IN ('U', 'D', 'C'));

ALTER TABLE DEPLOY.SCHEDULE_HISTORY ADD 
FOREIGN KEY (
	WRITER
) REFERENCES DEPLOY.MEMBER (
	ID
);